language: csharp
solution: ZombustersWindows.sln
before_install:
  - wget http://www.monogame.net/releases/v3.6/monogame-sdk.run
  - find * -type f -exec chmod 777 {} \; # lazy just make all executable
install:
  # Extracted from http://community.monogame.net/t/running-monogame-sdk-run-on-linux-without-confirmation-travis-ci/9567
  - sudo apt-get update
  - sudo apt-get install gtk-sharp3
  - sudo apt-get install libopenal-dev referenceassemblies-pcl ttf-mscorefonts-installer
  - sudo apt-get install libmono-microsoft-build2.0-cil
  - sudo apt-get install mono-runtime=3.2.8
  - sudo apt-get install libmono-system-web2.0-cil
  - sudo apt-get install libmono-system-runtime2.0-cil
  - sudo apt-get install monodevelop
  - sudo ./generate.sh && yes Y|sudo ./monogame-sdk.run; # install monogame sdk

  #- nuget restore
  #- nuget install NUnit.Runners -Version 2.6.4 -OutputDirectory testrunner
script:
  - msbuild
  #- mono ./testrunner/NUnit.Runners.2.6.4/tools/nunit-console.exe ./MonoGameSample.UnitTests/bin/Debug/MonoGameSample.UnitTests.dll
  - (cd ZombustersWindows/Content && mono /opt/monogame-pipeline/MGCB.exe /rebuild /@:"Content.mgcb" /outputDir:"../bin/Release/Content")
